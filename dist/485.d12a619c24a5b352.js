"use strict";(self.webpackChunkangular_test_task=self.webpackChunkangular_test_task||[]).push([[485],{7485:(C,c,n)=>{n.r(c),n.d(c,{RegistrationModule:()=>y});var d=n(6814),u=n(383),i=n(95);function p(r,s,o){return e=>{const l=e.controls[r],a=e.controls[s];if(a.errors&&!a.errors.mustMatch||o&&!l.value&&!a.value)return;let g=l.value===a.value;if(o?g:!g){let m;m=o?{mustNotMatch:!0}:{mustMatch:!0},a.setErrors(m)}else a.setErrors(null)}}var h=n(1374),v=n(6306),R=n(8504),t=n(4769),I=n(8333),f=n(2925);function b(r,s){if(1&r&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.hij(" ",o.error," ")}}const Z=[{path:"",component:(()=>{class r{get f(){return this.form.controls}constructor(o,e,l){this.formBuilder=o,this.router=e,this.authService=l,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({email:this.formBuilder.control(null,{validators:[i.kI.required,i.kI.email]}),password:this.formBuilder.control(null,{validators:[i.kI.required,i.kI.minLength(6),i.kI.maxLength(10)]}),confirmPassword:this.formBuilder.control(null,{validators:[i.kI.required,i.kI.minLength(6),i.kI.maxLength(10)]})},{validators:[p("password","confirmPassword",!1)]}),this.authService.isLoggedIn()&&this.router.navigate(["/products"])}register(){this.form.valid?this.authService.register({email:this.f.email.value,password:this.f.password.value}).pipe((0,h.P)(),(0,v.K)(e=>(this.error=e,(0,R._)(e)))).subscribe(()=>{this.router.navigate(["/login"])}):this.submitted=!0}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(u.F0),t.Y36(I.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-registration"]],decls:15,vars:10,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-lg-6","col-md-8","col-10","m-auto","d-flex","flex-column","align-items-center","p-lg-4","p-md-3","p-2",3,"formGroup"],[1,"m-auto","mb-3"],[1,"mb-3","col-12"],["label","Email","controlName","email","controlNamePrefix","registration",3,"form","submitted"],["label","Password","controlName","password","controlNamePrefix","registration","type","password",3,"form","showIcon","submitted"],["label","Confirm password","controlName","confirmPassword","controlNamePrefix","registration","type","password",3,"form","showIcon","submitted"],["class","alert alert-danger col-12","role","alert",4,"ngIf"],[1,"col-lg-5","col-8","m-auto","my-3","align-self-start"],["type","button",1,"btn","btn-primary","col-12",3,"click"],["role","alert",1,"alert","alert-danger","col-12"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"h1",3),t._uU(4,"Registration"),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"app-text-input",5),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"app-text-input",6),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"app-text-input",7),t.qZA(),t.YNc(11,b,2,1,"div",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return e.register()}),t._uU(14,"Register"),t.qZA()()()()()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("form",e.form)("submitted",e.submitted),t.xp6(2),t.Q6J("form",e.form)("showIcon",!0)("submitted",e.submitted),t.xp6(2),t.Q6J("form",e.form)("showIcon",!0)("submitted",e.submitted),t.xp6(1),t.Q6J("ngIf",e.error))},dependencies:[d.O5,i._Y,i.JL,i.sg,f.t]}),r})()}];let w=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]}),r})();var x=n(8404);let y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[d.ez,w,i.u5,i.UX,f.t,x.f]}),r})()}}]);