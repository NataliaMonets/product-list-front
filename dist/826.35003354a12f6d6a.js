"use strict";(self.webpackChunkangular_test_task=self.webpackChunkangular_test_task||[]).push([[826],{1438:(Z,D,f)=>{f.d(D,{M:()=>T});var c=f(553),r=f(4769),_=f(9862);let T=(()=>{class E{constructor(v){this.http=v,this.resourceUrl=c.N.apiUrl}createProduct(v){return this.http.post(`${this.resourceUrl}/products`,v)}getAllProducts(){return this.http.get(`${this.resourceUrl}/products`)}getProduct(v){return this.http.get(`${this.resourceUrl}/products/${v}`)}updateProduct(v){return this.http.put(`${this.resourceUrl}/products`,v)}deleteProduct(v){return this.http.delete(`${this.resourceUrl}/products/${v}`)}}return E.\u0275fac=function(v){return new(v||E)(r.LFG(_.eN))},E.\u0275prov=r.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},8569:(Z,D,f)=>{f.d(D,{z:()=>I});var c=f(6814),r=f(4769),_=f(8601);const T=["template"];function E(v,L){if(1&v){const S=r.EpF();r.TgZ(0,"div",1)(1,"p",2),r._uU(2),r.qZA()(),r.TgZ(3,"div",3)(4,"button",4),r.NdJ("click",function(){r.CHM(S);const w=r.oxw();return r.KtG(w.hideModal())}),r._uU(5,"No"),r.qZA(),r.TgZ(6,"button",5),r.NdJ("click",function(){r.CHM(S);const w=r.oxw();return r.KtG(w.confirmAction())}),r._uU(7,"Yes"),r.qZA()()}if(2&v){const S=r.oxw();r.xp6(2),r.hij("Are you sure you want ot remove this product? ",S.modalText,"")}}let I=(()=>{class v{constructor(S){this.modalService=S,this.onConfirm=new r.vpe}openModal(){this.modalRef=this.modalService.show(this.elementRef)}hideModal(){this.modalRef&&this.modalRef.hide()}confirmAction(){this.onConfirm.emit(),this.hideModal()}}return v.\u0275fac=function(S){return new(S||v)(r.Y36(_.tT))},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-confirm-modal"]],viewQuery:function(S,x){if(1&S&&r.Gf(T,5),2&S){let w;r.iGM(w=r.CRH())&&(x.elementRef=w.first)}},inputs:{modalText:"modalText"},outputs:{onConfirm:"onConfirm"},standalone:!0,features:[r._Bn([_.tT]),r.jDz],decls:2,vars:0,consts:[["template",""],[1,"modal-body","text-center"],[1,"mt-3"],[1,"modal-footer","d-flex","align-items-center","justify-content-around"],[1,"btn","btn-secondary","px-4",3,"click"],[1,"btn","btn-primary","px-4",3,"click"]],template:function(S,x){1&S&&r.YNc(0,E,8,1,"ng-template",null,0,r.W1O)},dependencies:[c.ez],styles:[".btn-primary[_ngcontent-%COMP%]{height:unset}"]}),v})()},7282:(Z,D,f)=>{f.d(D,{g:()=>r});var c=f(4769);let r=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275cmp=c.Xpm({type:_,selectors:[["app-loading-screen"]],standalone:!0,features:[c.jDz],decls:4,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center","position-absolute","h-100","w-100","top-0"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(E,I){1&E&&(c.TgZ(0,"div",0)(1,"div",1)(2,"span",2),c._uU(3,"Loading..."),c.qZA()()())},styles:[".spinner-border[_ngcontent-%COMP%]{width:60px;height:60px}"]}),_})()},2960:(Z,D,f)=>{f.d(D,{m:()=>x});var c=f(6814),r=f(4769),_=f(95),T=f(8601),E=f(2925),I=f(8404);const v=["template"];function L(w,N){if(1&w&&(r.TgZ(0,"div",12),r._uU(1),r.qZA()),2&w){const m=r.oxw(2);r.xp6(1),r.hij(" ",m.error," ")}}function S(w,N){if(1&w){const m=r.EpF();r.TgZ(0,"div",1)(1,"h4",2),r._uU(2),r.qZA(),r.TgZ(3,"button",3),r.NdJ("click",function(){r.CHM(m);const O=r.oxw();return r.KtG(O.hideModal())}),r.qZA()(),r.TgZ(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",5),r._UZ(8,"app-text-input",7),r.qZA(),r.TgZ(9,"div",5),r._UZ(10,"app-textarea-input",8),r.qZA()(),r.YNc(11,L,2,1,"div",9),r.qZA()(),r.TgZ(12,"div",10)(13,"button",11),r.NdJ("click",function(){r.CHM(m);const O=r.oxw();return r.KtG(O.isEditMode?O.editProduct():O.addProduct())}),r._uU(14),r.qZA()()}if(2&w){const m=r.oxw();r.xp6(2),r.Oqu(m.isEditMode?"Edit product":"Add product"),r.xp6(4),r.Q6J("formGroup",m.form),r.xp6(2),r.Q6J("form",m.form)("submitted",m.submitted),r.xp6(2),r.Q6J("form",m.form)("submitted",m.submitted)("charLimit",300),r.xp6(1),r.Q6J("ngIf",m.error),r.xp6(3),r.Oqu(m.isEditMode?"Edit":"Add")}}let x=(()=>{class w{get f(){return this.form.controls}constructor(m,B){this.modalService=m,this.formBuilder=B,this.submitted=!1,this.isEditMode=!1,this.onAddProduct=new r.vpe,this.onEditProduct=new r.vpe}ngOnInit(){this.form=this.formBuilder.group({productName:this.formBuilder.control(null,{validators:[_.kI.required,_.kI.minLength(3),_.kI.maxLength(40)]}),productDescription:this.formBuilder.control(null,{validators:[_.kI.required,_.kI.minLength(3),_.kI.maxLength(300)]}),productId:this.formBuilder.control(null)})}openModal(){this.modalRef=this.modalService.show(this.elementRef)}openEditModal(m){this.f.productName.setValue(m.name),this.f.productDescription.setValue(m.description),this.f.productId.setValue(m._id),this.openModal()}hideModal(){this.modalRef&&this.modalRef.hide(),this.form.reset(),this.submitted=!1,this.error=""}addProduct(){this.form.valid?this.onAddProduct.emit(this.getFormValue()):this.submitted=!0}editProduct(){this.form.valid?this.onEditProduct.emit(this.getFormValue()):this.submitted=!0}getFormValue(){return{name:this.f.productName.value,description:this.f.productDescription.value,_id:this.f.productId.value}}}return w.\u0275fac=function(m){return new(m||w)(r.Y36(T.tT),r.Y36(_.qu))},w.\u0275cmp=r.Xpm({type:w,selectors:[["app-product-modal"]],viewQuery:function(m,B){if(1&m&&r.Gf(v,5),2&m){let O;r.iGM(O=r.CRH())&&(B.elementRef=O.first)}},inputs:{isEditMode:"isEditMode",error:"error"},outputs:{onAddProduct:"onAddProduct",onEditProduct:"onEditProduct"},standalone:!0,features:[r._Bn([T.tT]),r.jDz],decls:2,vars:0,consts:[["template",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","pull-right",3,"click"],[1,"modal-body"],[1,"mb-3"],[3,"formGroup"],["label","Name","controlName","productName","controlNamePrefix","modal",3,"form","submitted"],["label","Description","controlName","productDescription","controlNamePrefix","modal",3,"form","submitted","charLimit"],["class","alert alert-danger col-12","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["role","alert",1,"alert","alert-danger","col-12"]],template:function(m,B){1&m&&r.YNc(0,S,15,9,"ng-template",null,0,r.W1O)},dependencies:[c.ez,c.O5,_.u5,_._Y,_.JL,_.UX,_.sg,E.t,I.f]}),w})()},8601:(Z,D,f)=>{f.d(D,{tT:()=>Ge});var c=f(4769),r=f(6814),_=f(8180);let E,T=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let o=this._focusTrapStack;o.length&&o[o.length-1]._disable(),o.push(t),t._enable()}deregister(t){t._disable();const o=this._focusTrapStack,i=o.indexOf(t);-1!==i&&(o.splice(i,1),o.length&&o[o.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let I=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,r.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function x(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function S(n){try{return n.frameElement}catch{return null}}(function Pt(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(o&&(-1===ft(o)||!this.isVisible(o)))return!1;let i=t.nodeName.toLowerCase(),s=ft(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Bt(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function Nt(n){return!function N(n){return function B(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function w(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function m(n){return function O(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ut(n))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(I))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ut(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ft(n){if(!ut(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function mt(n){return null!=n&&"false"!=`${n}`}class Ht{constructor(e,t,o,i,s=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let o=0;o<t.length;o++)t[o].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[o]):t[o].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[o]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let o=0;o<t.length;o++){let i=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let o=t.length-1;o>=0;o--){let i=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,_.q)(1)).subscribe(e)}}let $t=(()=>{class n{constructor(t,o,i){this._checker=t,this._ngZone=o,this._document=i}create(t,o=!1){return new Ht(t,this._checker,this._ngZone,this._document,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(L),c.LFG(c.R0b),c.LFG(r.K0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wt=(()=>{class n{constructor(t,o,i){this._elementRef=t,this._focusTrapFactory=o,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=mt(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=mt(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const o=t.autoCapture;o&&!o.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36($t),c.Y36(r.K0))},n.\u0275dir=c.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[c.TTD]}),n})(),Vt=(()=>{class n{static forRoot(){return{ngModule:n,providers:[T,I,L]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[r.ez]}),n})();class jt{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const Ut={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const y=typeof window<"u"&&window||{};var W=(()=>((W=W||{}).isBs4="bs4",W.isBs5="bs5",W))();let F;function gt(){const n=y.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),y.document.head.appendChild(n);const e=y.getComputedStyle(n).paddingLeft;return e&&parseFloat(e)?(y.document.head.removeChild(n),"bs4"):(y.document.head.removeChild(n),"bs5")}function j(){return{isBs4:(F||(F=gt()),"bs4"===F),isBs5:(F||(F=gt()),"bs5"===F)}}class Xt{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=y),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function qt(){const n=j(),e=Object.keys(n).find(t=>n[t]);return W[e]}();return{crossorigin:"anonymous",integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var Qt=f(8645),te=f(3019),ee=f(4829),ne=f(5592),oe=f(1631),ie=f(4266),P=f(4674),se=f(7400);const re=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],ce=["on","off"];function Y(n,e,t,o){if((0,P.m)(t)&&(o=t,t=void 0),o)return Y(n,e,t).pipe((0,se.Z)(o));const[i,s]=function he(n){return(0,P.m)(n.addEventListener)&&(0,P.m)(n.removeEventListener)}(n)?ae.map(a=>l=>n[a](e,l,t)):function le(n){return(0,P.m)(n.addListener)&&(0,P.m)(n.removeListener)}(n)?re.map(bt(n,e)):function de(n){return(0,P.m)(n.on)&&(0,P.m)(n.off)}(n)?ce.map(bt(n,e)):[];if(!i&&(0,ie.z)(n))return(0,oe.z)(a=>Y(a,e,t))((0,ee.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ne.y(a=>{const l=(...d)=>a.next(1<d.length?d:d[0]);return i(l),()=>s(l)})}function bt(n,e){return t=>o=>n[t](e,o)}var ue=f(2096),vt=f(7394);class fe extends vt.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const q={setInterval(n,e,...t){const{delegate:o}=q;return o?.setInterval?o.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=q;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var me=f(9039);class pe extends fe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var o;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,o=0){return q.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&q.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,o=!1;try{this.work(e)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const U={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=U;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new vt.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=U;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=U;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},wt={now:()=>(wt.delegate||Date).now(),delegate:void 0};class z{constructor(e,t=z.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}z.now=wt.now;class _e extends z{constructor(e,t=z.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const ve=new class be extends _e{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let i;e=e||o.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,i){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw i}}}(class ge extends pe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=U.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){var i;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(e,t,o);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(U.cancelAnimationFrame(t),e._scheduled=void 0)}});var g=(()=>((g=g||{}).top="top",g.bottom="bottom",g.left="left",g.right="right",g.auto="auto",g.end="right",g.start="left",g["top left"]="top left",g["top right"]="top right",g["right top"]="right top",g["right bottom"]="right bottom",g["bottom right"]="bottom right",g["bottom left"]="bottom left",g["left bottom"]="left bottom",g["left top"]="left top",g["top start"]="top left",g["top end"]="top right",g["end top"]="right top",g["end bottom"]="right bottom",g["bottom end"]="bottom right",g["bottom start"]="bottom left",g["start bottom"]="start bottom",g["start top"]="left top",g))(),p=(()=>((p=p||{}).top="top",p.bottom="bottom",p.left="start",p.right="end",p.auto="auto",p.end="end",p.start="start",p["top left"]="top start",p["top right"]="top end",p["right top"]="end top",p["right bottom"]="end bottom",p["bottom right"]="bottom end",p["bottom left"]="bottom start",p["left bottom"]="start bottom",p["left top"]="start top",p["top start"]="top start",p["top end"]="top end",p["end top"]="end top",p["end bottom"]="end bottom",p["bottom end"]="bottom end",p["bottom start"]="bottom start",p["start bottom"]="start bottom",p["start top"]="start top",p))();function H(n,e){if(1!==n.nodeType)return[];const o=n.ownerDocument.defaultView?.getComputedStyle(n,null);return e?o&&o[e]:o}function it(n){if(!n)return document.documentElement;let o,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&o!==n.nextElementSibling;)o=n.nextElementSibling,t=o.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===H(t,"position")?it(t):t:o?o.ownerDocument.documentElement:document.documentElement}function st(n){return null!==n.parentNode?st(n.parentNode):n}function X(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=t?n:e,i=t?e:n,s=document.createRange();s.setStart(o,0),s.setEnd(i,0);const a=s.commonAncestorContainer;if(n!==a&&e!==a||o.contains(i))return function we(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||it(n.firstElementChild)===n)}(a)?a:it(a);const l=st(n);return l.host?X(l.host,e):X(n,st(e).host)}function yt(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;e?.parentElement&&"none"===H(e,"transform");)e=e.parentElement;return e||document.documentElement}function Et(n,e){const t="x"===e?"Left":"Top",o="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${o}Width`])}function Mt(n,e,t,o){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function Ct(n){const e=n.body,t=n.documentElement;return{height:Mt("Height",e,t),width:Mt("Width",e,t)}}function G(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function b(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function St(n){const e=n.getBoundingClientRect();if(!(e&&b(e.top)&&b(e.left)&&b(e.bottom)&&b(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===n.nodeName?Ct(n.ownerDocument):void 0,i=o?.width||n.clientWidth||b(e.right)&&b(t.left)&&e.right-t.left||0,s=o?.height||n.clientHeight||b(e.bottom)&&b(t.top)&&e.bottom-t.top||0;let a=n.offsetWidth-i,l=n.offsetHeight-s;if(a||l){const d=H(n);a-=Et(d,"x"),l-=Et(d,"y"),t.width-=a,t.height-=l}return G(t)}function rt(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function at(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:o}=H(n);return/(auto|scroll|overlay)/.test(String(e)+String(o)+String(t))?n:at(rt(n))}function ct(n,e,t=!1){const o="HTML"===e.nodeName,i=St(n),s=St(e),l=(at(n),H(e)),d=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);t&&o&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const u=G({top:(i.top??0)-(s.top??0)-d,left:(i.left??0)-(s.left??0)-h,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,o){const M=parseFloat(l.marginTop),A=parseFloat(l.marginLeft);b(u.top)&&(u.top-=d-M),b(u.bottom)&&(u.bottom-=d-M),b(u.left)&&(u.left-=h-A),b(u.right)&&(u.right-=h-A),u.marginTop=M,u.marginLeft=A}return u}function At(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",o=n.nodeName;return"BODY"===o||"HTML"===o?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[t]:n[t]}function Rt(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===H(n,"position")||Rt(rt(n)))}function lt(n,e,t=0,o,i=!1){let s={top:0,left:0};const a=i?yt(n):X(n,e);if("viewport"===o)s=function Ee(n,e=!1){const t=n.ownerDocument.documentElement,o=ct(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),a=e?0:At(t),l=e?0:At(t,"left");return G({top:a-Number(o?.top)+Number(o?.marginTop),left:l-Number(o?.left)+Number(o?.marginLeft),width:i,height:s})}(a,i);else{let l;"scrollParent"===o?(l=at(rt(e)),"BODY"===l.nodeName&&(l=n.ownerDocument.documentElement)):l="window"===o?n.ownerDocument.documentElement:o;const d=ct(l,a,i);if(d&&"HTML"===l.nodeName&&!Rt(a)){const{height:h,width:u}=Ct(n.ownerDocument);b(s.top)&&b(d.top)&&b(d.marginTop)&&(s.top+=d.top-d.marginTop),b(s.top)&&(s.bottom=Number(h)+Number(d.top)),b(s.left)&&b(d.left)&&b(d.marginLeft)&&(s.left+=d.left-d.marginLeft),b(s.top)&&(s.right=Number(u)+Number(d.left))}else d&&(s=d)}return b(s.left)&&(s.left+=t),b(s.top)&&(s.top+=t),b(s.right)&&(s.right-=t),b(s.bottom)&&(s.bottom-=t),s}function Me({width:n,height:e}){return n*e}function Tt(n,e,t,o,i=["top","bottom","right","left"],s="viewport",a=0){if(-1===n.indexOf("auto"))return n;const l=lt(t,o,a,s),d={top:{width:l?.width??0,height:(e?.top??0)-(l?.top??0)},right:{width:(l?.right??0)-(e?.right??0),height:l?.height??0},bottom:{width:l?.width??0,height:(l?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(l?.left??0),height:l?.height??0}},h=Object.keys(d).map(C=>({position:C,...d[C],area:Me(d[C])})).sort((C,R)=>R.area-C.area);let u=h.filter(({width:C,height:R})=>C>=t.clientWidth&&R>=t.clientHeight);u=u.filter(({position:C})=>i.some(R=>R===C));const M=u.length>0?u[0].position:h[0].position,A=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${j().isBs5?p[M]:M}`),M+(A?`-${A}`:"")}const J=(n,e=0)=>n?parseFloat(n):e;function Ot(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),o=J(t?.marginTop)+J(t?.marginBottom),i=J(t?.marginLeft)+J(t?.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+o}}function kt(n,e,t){return ct(e,t?yt(n):X(n,e),t)}function dt(n,e,t){const o=t.split(" ")[0],i=Ot(n),s={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(o),l=a?"top":"left",d=a?"left":"top",h=a?"height":"width",u=a?"width":"height";return s[l]=(e[l]??0)+e[h]/2-i[h]/2,s[d]=o===d?(e[d]??0)-i[u]:e[function Se(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(d)]??0,s}function Dt(n,e){return!!n.modifiers[e]?.enabled}const Re={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Q(n,e){return!!j().isBs5&&Re[e].includes(n)}function It(n,e,t){!n||!e||Object.keys(e).forEach(o=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&function ye(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[o])&&(i="px"),t?t.setStyle(n,o,`${String(e[o])}${i}`):n.style[o]=String(e[o])+i})}function ke(n){let e=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const o=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),i=o?"height":"width",s=o?"Top":"Left",a=s.toLowerCase(),l=o?"left":"top",d=o?"bottom":"right",h=Ot(t)[i],u=n.placement.split(" ")[1];(n.offsets.host[d]??0)-h<(e[a]??0)&&(e[a]-=(e[a]??0)-((n.offsets.host[d]??0)-h)),Number(n.offsets.host[a])+Number(h)>(e[d]??0)&&(e[a]+=Number(n.offsets.host[a])+Number(h)-Number(e[d])),e=G(e);const M=H(n.instance.target),A=parseFloat(M[`margin${s}`])||0,C=parseFloat(M[`border${s}Width`])||0;let R;if(u){const ot=parseFloat(M.borderRadius)||0,$=Number(A+C+ot);R=a===u?Number(n.offsets.host[a])+$:Number(n.offsets.host[a])+Number(n.offsets.host[i]-$)}else R=Number(n.offsets.host[a])+Number(n.offsets.host[i]/2-h/2);let V=R-(e[a]??0)-A-C;return V=Math.max(Math.min(e[i]-(h+5),V),0),n.offsets.arrow={[a]:Math.round(V),[l]:""},n.instance.arrow=t,n}function De(n){if(n.offsets.target=G(n.offsets.target),!Dt(n.options,"flip"))return n.offsets.target={...n.offsets.target,...dt(n.instance.target,n.offsets.host,n.placement)},n;const e=lt(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],o=n.placement.split(" ")[1]||"";const l=Tt("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),d=[t,l];return d.forEach((h,u)=>{if(t!==h||d.length===u+1)return;t=n.placement.split(" ")[0];const M="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),A=Math.floor(n.offsets.target.left??0)<Math.floor(e.left??0),C=Math.floor(n.offsets.target.right??0)>Math.floor(e.right??0),R=Math.floor(n.offsets.target.top??0)<Math.floor(e.top??0),V=Math.floor(n.offsets.target.bottom??0)>Math.floor(e.bottom??0),ot="left"===t&&A||"right"===t&&C||"top"===t&&R||"bottom"===t&&V,$=-1!==["top","bottom"].indexOf(t),xt=$&&"left"===o&&A||$&&"right"===o&&C||!$&&"left"===o&&R||!$&&"right"===o&&V;(M||ot||xt)&&((M||ot)&&(t=d[u+1]),xt&&(o=function Ae(n){return"right"===n?"left":"left"===n?"right":n}(o)),n.placement=t+(o?` ${o}`:""),n.offsets.target={...n.offsets.target,...dt(n.instance.target,n.offsets.host,n.placement)})}),n}function Le(n){if(!Dt(n.options,"preventOverflow"))return n;const e="transform",t=n.instance.target.style,{top:o,left:i,[e]:s}=t;t.top="",t.left="",t[e]="";const a=lt(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=o,t.left=i,t[e]=s;const d={primary(h){let u=n.offsets.target[h];return(n.offsets.target[h]??0)<(a[h]??0)&&(u=Math.max(n.offsets.target[h]??0,a[h]??0)),{[h]:u}},secondary(h){const u="right"===h,M=u?"left":"top";let C=n.offsets.target[M];return(n.offsets.target[h]??0)>(a[h]??0)&&(C=Math.min(n.offsets.target[M]??0,(a[h]??0)-n.offsets.target[u?"width":"height"])),{[M]:C}}};return["left","right","top","bottom"].forEach(h=>{const u=-1!==["left","top","start"].indexOf(h)?d.primary:d.secondary;n.offsets.target={...n.offsets.target,...u(h)}}),n}function Fe(n){const e=n.placement,t=e.split(" ")[0],o=e.split(" ")[1];if(o){const{host:i,target:s}=n.offsets,a=-1!==["bottom","top"].indexOf(t),l=a?"left":"top",d=a?"width":"height",h={start:{[l]:i[l]},end:{[l]:(i[l]??0)+i[d]-s[d]}};n.offsets.target={...s,[l]:l===o?h.start[l]:h.end[l]}}return n}const Be=new class xe{position(e,t){return this.offset(e,t)}offset(e,t){return kt(t,e)}positionElements(e,t,o,i,s){const a=[De,Fe,Le,ke],d=function Ie(n,e,t,o){if(!n||!e)return;const i=kt(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let a=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const l=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return l&&(a=l[1]+(l[2]?` ${l[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),a=Tt(a,i,n,e,o?o.allowedPositions:void 0),{options:o||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:dt(n,i,a),host:i,arrow:void 0},positionFixed:!1,placement:a,placementAuto:s}}(t,e,g[o],s);if(d)return a.reduce((h,u)=>u(h),d)}};function Ne(n,e,t,o,i,s){const a=Be.positionElements(n,e,t,o,i);if(!a)return;const l=function Ce(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(a);It(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${l.left}px, ${l.top}px, 0px)`},s),a.instance.arrow&&It(a.instance.arrow,a.offsets.arrow,s),function Oe(n,e){const t=n.instance.target;let o=t.className;const i=j().isBs5?p[n.placement]:n.placement;n.placementAuto&&(o=o.replace(/bs-popover-auto/g,`bs-popover-${i}`),o=o.replace(/ms-2|me-2|mb-2|mt-2/g,""),o=o.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),o=o.replace(/\sauto/g,` ${i}`),-1!==o.indexOf("popover")&&(o=o+" "+function Te(n){return j().isBs5?Q(n,"end")?"ms-2":Q(n,"start")?"me-2":Q(n,"top")?"mb-2":Q(n,"bottom")?"mt-2":"":""}(i)),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",o):t.className=o}(a,s)}let Pe=(()=>{class n{constructor(t,o,i){this.update$$=new Qt.x,this.positionElements=new Map,this.isDisabled=!1,(0,r.NF)(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,te.T)(Y(window,"scroll",{passive:!0}),Y(window,"resize",{passive:!0}),(0,ue.of)(0,ve),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{Ne(tt(s.target),tt(s.element),s.attachment,s.appendToBody,this.options,o.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(tt(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(tt(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.FYo),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tt(n){return"string"==typeof n?document.querySelector(n):n instanceof c.SBq?n.nativeElement:n??null}class K{constructor(e,t,o){this.nodes=e,this.viewRef=t,this.componentRef=o}}class He{constructor(e,t,o,i,s,a,l,d,h){this._viewContainerRef=e,this._renderer=t,this._elementRef=o,this._injector=i,this._componentFactoryResolver=s,this._ngZone=a,this._applicationRef=l,this._posService=d,this._document=h,this.onBeforeShow=new c.vpe,this.onShown=new c.vpe,this.onBeforeHide=new c.vpe,this.onHidden=new c.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=c.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof c.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const o=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!o)return;o.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),o=this._listenOpts.show=s=>{e.show?e.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function zt(n,e){const t=function pt(n,e=Ut){const t=(n||"").trim();if(0===t.length)return[];const o=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const a=e[s[0]]||s;return new jt(a[0],a[1])}),i=o.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&o.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return o}(e.triggers),o=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],s=[],a=()=>{s.forEach(l=>i.push(l())),s.length=0};return t.forEach(l=>{const d=l.open===l.close,h=d?e.toggle:e.show;if(!d&&l.close&&e.hide){const u=n.listen(o,l.close,e.hide);s.push(()=>u)}h&&i.push(n.listen(o,l.open,()=>h(a)))}),()=>{i.forEach(l=>l())}}(this._renderer,{target:e.target,triggers:e.triggers,show:o,hide:t,toggle:s=>{this.isShown?t():o(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function Gt(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Kt(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,o){if(!e)return new K([]);if(e instanceof c.Rgc){if(this._viewContainerRef){const a=this._viewContainerRef.createEmbeddedView(e,t);return a.markForCheck(),new K([a.rootNodes],a)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new K([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),a=c.zs3.create({providers:this._providers,parent:this._injector}),l=s.create(a);return Object.assign(l.instance,o),this._applicationRef.attachView(l.hostView),new K([[l.location.nativeElement]],l.hostView,l)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new K([i])}}let $e=(()=>{class n{constructor(t,o,i,s,a,l){this._componentFactoryResolver=t,this._ngZone=o,this._injector=i,this._posService=s,this._applicationRef=a,this._document=l}createLoader(t,o,i){return new He(o,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(c.zs3),c.LFG(Pe),c.LFG(c.z2F),c.LFG(r.K0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const We=["*"];let Lt=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const et={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Ve=new c.OlP("override-default-config");let je=(()=>{class n{constructor(t,o,i){this._element=o,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ft),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275cmp=c.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,o){1&t&&c.NdJ("mousedown",function(s){return o.onClickStarted(s)})("click",function(s){return o.onClickStop(s)})("popstate",function(){return o.onPopState()},!1,c.Jf7)("keydown.esc",function(s){return o.onEsc(s)},!1,c.Jf7),2&t&&c.uIk("aria-modal",!0)("aria-labelledby",o.config.ariaLabelledBy)("aria-describedby",o.config.ariaDescribedby)},ngContentSelectors:We,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,o){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA()()),2&t&&c.Tol("modal-dialog"+(o.config.class?" "+o.config.class:""))},dependencies:[Wt],encapsulation:2}),n})(),Ue=(()=>{class n{constructor(t,o){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=o}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),Xt.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275cmp=c.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),ze=1,Ge=(()=>{class n{constructor(t,o,i){this.clf=o,this.modalDefaultOption=i,this.onShow=new c.vpe,this.onShown=new c.vpe,this.onHide=new c.vpe,this.onHidden=new c.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},et,i):et}show(t,o){this.modalsCount++,this._createLoaders();const i=o?.id||ze++;return this.config=this.modalDefaultOption?Object.assign({},et,this.modalDefaultOption,o):Object.assign({},et,o),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,o=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&o&&(this._backdropLoader.attach(Ue).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){const o=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const a of this.config.providers)o.provide(a);const i=new Lt,s=o.provide({provide:Ft,useValue:this.config}).provide({provide:Lt,useValue:i}).attach(je).to("body");return i.hide=()=>this.hide(i.id),i.setClass=a=>{s.instance&&(s.instance.config.class=a)},i.onHidden=new c.vpe,i.onHide=new c.vpe,this.copyEvent(o.onBeforeHide,i.onHide),this.copyEvent(o.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),i.content=o.getInnerComponent(),i.id=s.instance.config?.id),i}_hideModal(t){if(null!=t){const o=this.loaders.findIndex(s=>s.instance?.config.id===t),i=this.loaders[o];i&&i.hide(t)}else this.loaders.forEach(o=>{o.instance&&o.hide(o.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const o=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),o}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const o=this.loaders.findIndex(i=>i.instance?.config.id===t);o>=0&&(this.loaders.splice(o,1),this.loaders.forEach((i,s)=>{i.instance&&(i.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,o){t.subscribe(i=>{o.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG($e),c.LFG(Ve,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();Vt.forRoot()}}]);